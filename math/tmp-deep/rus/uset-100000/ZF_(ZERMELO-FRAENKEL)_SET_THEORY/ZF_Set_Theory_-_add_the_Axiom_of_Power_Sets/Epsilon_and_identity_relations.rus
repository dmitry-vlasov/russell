import uset-100000/ZF_(ZERMELO-FRAENKEL)_SET_THEORY/ZF_Set_Theory_-_add_the_Axiom_of_Power_Sets/Power_class_of_union_and_intersection.rus;;

/*=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
                Epsilon and identity relations

=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
*/

/*Declare new constant symbols. */

constant {
	symbol ğ›œ ;;
	ascii _E ;;
	latex \epsilon ;;
}

/*Letter E (for epsilon relation) */

constant {
	symbol _I ;;
	ascii _I ;;
	latex \rm{Id} ;;
}

/*Letter I (for identity relation) */

/*Extend class notation to include the epsilon relation. */

rule cep () {
	term : class = # ğ›œ ;;
}

/*Extend the definition of a class to include identity relation. */

rule cid () {
	term : class = # _I ;;
}

/*Define the epsilon relation.  Similar to Definition 6.22 of
       [TakeutiZaring] p. 30.  The epsilon relation and set membership are the
       same, that is, ` ( A _E B <-> A e. B ) ` when ` B ` is a set by
       ~ epelg .  Thus, ` 5 _E { 1 , 5 } ` ( ~ ex-eprel ).  (Contributed by NM,
       13-Aug-1995.) */

definition df-eprel (x : set, y : set) disjointed(x y) {
	defiendum : class = # ğ›œ ;;
	definiens : class = # { âŒ© x , y âŒª | x âˆˆ y } ;;
	-----------------------
	prop : wff = |- defiendum = definiens ;;
}

/*The epsilon relation and membership are the same.  General version of
       ~ epel .  (Contributed by Scott Fenton, 27-Mar-2011.)  (Revised by Mario
       Carneiro, 28-Apr-2015.) */

theorem epelg (A : class, B : class, V : class) disjointed(A x y, B x y) {
	prop 1 : wff = |- ( B âˆˆ V â†’ ( A ğ›œ B â†” A âˆˆ B ) ) ;;
}

proof of epelg {
	var x : set, y : set;;
	step 1 : wff = df-br () |- ( A ğ›œ B â†” âŒ© A , B âŒª âˆˆ ğ›œ ) ;;
	step 2 : wff = elopab () |- ( âŒ© A , B âŒª âˆˆ { âŒ© x , y âŒª | x âˆˆ y } â†” âˆƒ x âˆƒ y ( âŒ© A , B âŒª = âŒ© x , y âŒª âˆ§ x âˆˆ y ) ) ;;
	step 3 : wff = vex () |- x âˆˆ _V ;;
	step 4 : wff = vex () |- y âˆˆ _V ;;
	step 5 : wff = pm3.2i (step 3, step 4) |- ( x âˆˆ _V âˆ§ y âˆˆ _V ) ;;
	step 6 : wff = opeqex () |- ( âŒ© A , B âŒª = âŒ© x , y âŒª â†’ ( ( A âˆˆ _V âˆ§ B âˆˆ _V ) â†” ( x âˆˆ _V âˆ§ y âˆˆ _V ) ) ) ;;
	step 7 : wff = mpbiri (step 5, step 6) |- ( âŒ© A , B âŒª = âŒ© x , y âŒª â†’ ( A âˆˆ _V âˆ§ B âˆˆ _V ) ) ;;
	step 8 : wff = simpld (step 7) |- ( âŒ© A , B âŒª = âŒ© x , y âŒª â†’ A âˆˆ _V ) ;;
	step 9 : wff = adantr (step 8) |- ( ( âŒ© A , B âŒª = âŒ© x , y âŒª âˆ§ x âˆˆ y ) â†’ A âˆˆ _V ) ;;
	step 10 : wff = exlimivv (step 9) |- ( âˆƒ x âˆƒ y ( âŒ© A , B âŒª = âŒ© x , y âŒª âˆ§ x âˆˆ y ) â†’ A âˆˆ _V ) ;;
	step 11 : wff = sylbi (step 2, step 10) |- ( âŒ© A , B âŒª âˆˆ { âŒ© x , y âŒª | x âˆˆ y } â†’ A âˆˆ _V ) ;;
	step 12 : wff = df-eprel () |- ğ›œ = { âŒ© x , y âŒª | x âˆˆ y } ;;
	step 13 : wff = eleq2s (step 11, step 12) |- ( âŒ© A , B âŒª âˆˆ ğ›œ â†’ A âˆˆ _V ) ;;
	step 14 : wff = sylbi (step 1, step 13) |- ( A ğ›œ B â†’ A âˆˆ _V ) ;;
	step 15 : wff = a1i (step 14) |- ( B âˆˆ V â†’ ( A ğ›œ B â†’ A âˆˆ _V ) ) ;;
	step 16 : wff = elex () |- ( A âˆˆ B â†’ A âˆˆ _V ) ;;
	step 17 : wff = a1i (step 16) |- ( B âˆˆ V â†’ ( A âˆˆ B â†’ A âˆˆ _V ) ) ;;
	step 18 : wff = eleq12 () |- ( ( x = A âˆ§ y = B ) â†’ ( x âˆˆ y â†” A âˆˆ B ) ) ;;
	step 19 : wff = df-eprel () |- ğ›œ = { âŒ© x , y âŒª | x âˆˆ y } ;;
	step 20 : wff = brabga (step 18, step 19) |- ( ( A âˆˆ _V âˆ§ B âˆˆ V ) â†’ ( A ğ›œ B â†” A âˆˆ B ) ) ;;
	step 21 : wff = expcom (step 20) |- ( B âˆˆ V â†’ ( A âˆˆ _V â†’ ( A ğ›œ B â†” A âˆˆ B ) ) ) ;;
	step 22 : wff = pm5.21ndd (step 15, step 17, step 21) |- ( B âˆˆ V â†’ ( A ğ›œ B â†” A âˆˆ B ) ) ;;
	qed prop 1 = step 22 ;;
}

/*The epsilon relationship and the membership relation are the same.
       (Contributed by Scott Fenton, 11-Apr-2012.) */

theorem epelc (A : class, B : class)  {
	hyp 1 : wff = |- B âˆˆ _V ;;
	-----------------------
	prop 1 : wff = |- ( A ğ›œ B â†” A âˆˆ B ) ;;
}

proof of epelc {
	step 1 : wff = epelg () |- ( B âˆˆ _V â†’ ( A ğ›œ B â†” A âˆˆ B ) ) ;;
	step 2 : wff = ax-mp (hyp 1, step 1) |- ( A ğ›œ B â†” A âˆˆ B ) ;;
	qed prop 1 = step 2 ;;
}

/*The epsilon relation and the membership relation are the same.
     (Contributed by NM, 13-Aug-1995.) */

theorem epel (x : set, y : set)  {
	prop 1 : wff = |- ( x ğ›œ y â†” x âˆˆ y ) ;;
}

proof of epel {
	step 1 : wff = vex () |- y âˆˆ _V ;;
	step 2 : wff = epelc (step 1) |- ( x ğ›œ y â†” x âˆˆ y ) ;;
	qed prop 1 = step 2 ;;
}

/*Define the identity relation.  Definition 9.15 of [Quine] p. 64.  For
       example, ` 5 _I 5 ` and ` -. 4 _I 5 ` ( ~ ex-id ).  (Contributed by NM,
       13-Aug-1995.) */

definition df-id (x : set, y : set) disjointed(x y) {
	defiendum : class = # _I ;;
	definiens : class = # { âŒ© x , y âŒª | x = y } ;;
	-----------------------
	prop : wff = |- defiendum = definiens ;;
}

/*A stronger version of ~ df-id that doesn't require ` x ` and ` y ` to be
       distinct.  Ordinarily, we wouldn't use this as a definition, since
       non-distinct dummy variables would make soundness verification more
       difficult (as the proof here shows).  The proof can be instructive in
       showing how distinct variable requirements may be eliminated, a task
       that is not necessarily obvious.  (Contributed by NM, 5-Feb-2008.)
       (Revised by Mario Carneiro, 18-Nov-2016.) */

theorem dfid3 (x : set, y : set) disjointed(w z x, w z y) {
	prop 1 : wff = |- _I = { âŒ© x , y âŒª | x = y } ;;
}

proof of dfid3 {
	var z : set, w : set;;
	step 1 : wff = df-id () |- _I = { âŒ© x , z âŒª | x = z } ;;
	step 2 : wff = ancom () |- ( ( w = âŒ© x , z âŒª âˆ§ x = z ) â†” ( x = z âˆ§ w = âŒ© x , z âŒª ) ) ;;
	step 3 : wff = equcom () |- ( x = z â†” z = x ) ;;
	step 4 : wff = anbi1i (step 3) |- ( ( x = z âˆ§ w = âŒ© x , z âŒª ) â†” ( z = x âˆ§ w = âŒ© x , z âŒª ) ) ;;
	step 5 : wff = bitri (step 2, step 4) |- ( ( w = âŒ© x , z âŒª âˆ§ x = z ) â†” ( z = x âˆ§ w = âŒ© x , z âŒª ) ) ;;
	step 6 : wff = exbii (step 5) |- ( âˆƒ z ( w = âŒ© x , z âŒª âˆ§ x = z ) â†” âˆƒ z ( z = x âˆ§ w = âŒ© x , z âŒª ) ) ;;
	step 7 : wff = vex () |- x âˆˆ _V ;;
	step 8 : wff = opeq2 () |- ( z = x â†’ âŒ© x , z âŒª = âŒ© x , x âŒª ) ;;
	step 9 : wff = eqeq2d (step 8) |- ( z = x â†’ ( w = âŒ© x , z âŒª â†” w = âŒ© x , x âŒª ) ) ;;
	step 10 : wff = ceqsexv (step 7, step 9) |- ( âˆƒ z ( z = x âˆ§ w = âŒ© x , z âŒª ) â†” w = âŒ© x , x âŒª ) ;;
	step 11 : wff = equid () |- x = x ;;
	step 12 : wff = biantru (step 11) |- ( w = âŒ© x , x âŒª â†” ( w = âŒ© x , x âŒª âˆ§ x = x ) ) ;;
	step 13 : wff = 3bitri (step 6, step 10, step 12) |- ( âˆƒ z ( w = âŒ© x , z âŒª âˆ§ x = z ) â†” ( w = âŒ© x , x âŒª âˆ§ x = x ) ) ;;
	step 14 : wff = exbii (step 13) |- ( âˆƒ x âˆƒ z ( w = âŒ© x , z âŒª âˆ§ x = z ) â†” âˆƒ x ( w = âŒ© x , x âŒª âˆ§ x = x ) ) ;;
	step 15 : wff = nfe1 () |- F/ x âˆƒ x ( w = âŒ© x , x âŒª âˆ§ x = x ) ;;
	step 16 : wff = 19.9 (step 15) |- ( âˆƒ x âˆƒ x ( w = âŒ© x , x âŒª âˆ§ x = x ) â†” âˆƒ x ( w = âŒ© x , x âŒª âˆ§ x = x ) ) ;;
	step 17 : wff = bitr4i (step 14, step 16) |- ( âˆƒ x âˆƒ z ( w = âŒ© x , z âŒª âˆ§ x = z ) â†” âˆƒ x âˆƒ x ( w = âŒ© x , x âŒª âˆ§ x = x ) ) ;;
	step 18 : wff = opeq2 () |- ( x = y â†’ âŒ© x , x âŒª = âŒ© x , y âŒª ) ;;
	step 19 : wff = eqeq2d (step 18) |- ( x = y â†’ ( w = âŒ© x , x âŒª â†” w = âŒ© x , y âŒª ) ) ;;
	step 20 : wff = equequ2 () |- ( x = y â†’ ( x = x â†” x = y ) ) ;;
	step 21 : wff = anbi12d (step 19, step 20) |- ( x = y â†’ ( ( w = âŒ© x , x âŒª âˆ§ x = x ) â†” ( w = âŒ© x , y âŒª âˆ§ x = y ) ) ) ;;
	step 22 : wff = sps (step 21) |- ( âˆ€ x x = y â†’ ( ( w = âŒ© x , x âŒª âˆ§ x = x ) â†” ( w = âŒ© x , y âŒª âˆ§ x = y ) ) ) ;;
	step 23 : wff = drex1 (step 22) |- ( âˆ€ x x = y â†’ ( âˆƒ x ( w = âŒ© x , x âŒª âˆ§ x = x ) â†” âˆƒ y ( w = âŒ© x , y âŒª âˆ§ x = y ) ) ) ;;
	step 24 : wff = drex2 (step 23) |- ( âˆ€ x x = y â†’ ( âˆƒ x âˆƒ x ( w = âŒ© x , x âŒª âˆ§ x = x ) â†” âˆƒ x âˆƒ y ( w = âŒ© x , y âŒª âˆ§ x = y ) ) ) ;;
	step 25 : wff = syl5bb (step 17, step 24) |- ( âˆ€ x x = y â†’ ( âˆƒ x âˆƒ z ( w = âŒ© x , z âŒª âˆ§ x = z ) â†” âˆƒ x âˆƒ y ( w = âŒ© x , y âŒª âˆ§ x = y ) ) ) ;;
	step 26 : wff = nfnae () |- F/ x Â¬ âˆ€ x x = y ;;
	step 27 : wff = nfnae () |- F/ y Â¬ âˆ€ x x = y ;;
	step 28 : wff = nfcvd () |- ( Â¬ âˆ€ x x = y â†’ F/_ y w ) ;;
	step 29 : wff = nfcvf2 () |- ( Â¬ âˆ€ x x = y â†’ F/_ y x ) ;;
	step 30 : wff = nfcvd () |- ( Â¬ âˆ€ x x = y â†’ F/_ y z ) ;;
	step 31 : wff = nfopd (step 29, step 30) |- ( Â¬ âˆ€ x x = y â†’ F/_ y âŒ© x , z âŒª ) ;;
	step 32 : wff = nfeqd (step 28, step 31) |- ( Â¬ âˆ€ x x = y â†’ F/ y w = âŒ© x , z âŒª ) ;;
	step 33 : wff = nfcvf2 () |- ( Â¬ âˆ€ x x = y â†’ F/_ y x ) ;;
	step 34 : wff = nfcvd () |- ( Â¬ âˆ€ x x = y â†’ F/_ y z ) ;;
	step 35 : wff = nfeqd (step 33, step 34) |- ( Â¬ âˆ€ x x = y â†’ F/ y x = z ) ;;
	step 36 : wff = nfand (step 32, step 35) |- ( Â¬ âˆ€ x x = y â†’ F/ y ( w = âŒ© x , z âŒª âˆ§ x = z ) ) ;;
	step 37 : wff = opeq2 () |- ( z = y â†’ âŒ© x , z âŒª = âŒ© x , y âŒª ) ;;
	step 38 : wff = eqeq2d (step 37) |- ( z = y â†’ ( w = âŒ© x , z âŒª â†” w = âŒ© x , y âŒª ) ) ;;
	step 39 : wff = equequ2 () |- ( z = y â†’ ( x = z â†” x = y ) ) ;;
	step 40 : wff = anbi12d (step 38, step 39) |- ( z = y â†’ ( ( w = âŒ© x , z âŒª âˆ§ x = z ) â†” ( w = âŒ© x , y âŒª âˆ§ x = y ) ) ) ;;
	step 41 : wff = a1i (step 40) |- ( Â¬ âˆ€ x x = y â†’ ( z = y â†’ ( ( w = âŒ© x , z âŒª âˆ§ x = z ) â†” ( w = âŒ© x , y âŒª âˆ§ x = y ) ) ) ) ;;
	step 42 : wff = cbvexd (step 27, step 36, step 41) |- ( Â¬ âˆ€ x x = y â†’ ( âˆƒ z ( w = âŒ© x , z âŒª âˆ§ x = z ) â†” âˆƒ y ( w = âŒ© x , y âŒª âˆ§ x = y ) ) ) ;;
	step 43 : wff = exbid (step 26, step 42) |- ( Â¬ âˆ€ x x = y â†’ ( âˆƒ x âˆƒ z ( w = âŒ© x , z âŒª âˆ§ x = z ) â†” âˆƒ x âˆƒ y ( w = âŒ© x , y âŒª âˆ§ x = y ) ) ) ;;
	step 44 : wff = pm2.61i (step 25, step 43) |- ( âˆƒ x âˆƒ z ( w = âŒ© x , z âŒª âˆ§ x = z ) â†” âˆƒ x âˆƒ y ( w = âŒ© x , y âŒª âˆ§ x = y ) ) ;;
	step 45 : wff = abbii (step 44) |- { w | âˆƒ x âˆƒ z ( w = âŒ© x , z âŒª âˆ§ x = z ) } = { w | âˆƒ x âˆƒ y ( w = âŒ© x , y âŒª âˆ§ x = y ) } ;;
	step 46 : wff = df-opab () |- { âŒ© x , z âŒª | x = z } = { w | âˆƒ x âˆƒ z ( w = âŒ© x , z âŒª âˆ§ x = z ) } ;;
	step 47 : wff = df-opab () |- { âŒ© x , y âŒª | x = y } = { w | âˆƒ x âˆƒ y ( w = âŒ© x , y âŒª âˆ§ x = y ) } ;;
	step 48 : wff = 3eqtr4i (step 45, step 46, step 47) |- { âŒ© x , z âŒª | x = z } = { âŒ© x , y âŒª | x = y } ;;
	step 49 : wff = eqtri (step 1, step 48) |- _I = { âŒ© x , y âŒª | x = y } ;;
	qed prop 1 = step 49 ;;
}

/*Alternate definition of the identity relation.  (Contributed by NM,
     15-Mar-2007.) */

theorem dfid2 (x : set)  {
	prop 1 : wff = |- _I = { âŒ© x , x âŒª | x = x } ;;
}

proof of dfid2 {
	step 1 : wff = dfid3 () |- _I = { âŒ© x , x âŒª | x = x } ;;
	qed prop 1 = step 1 ;;
}


